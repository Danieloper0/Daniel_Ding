<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daniel Ding | Portfolio</title>
    <link href="https://fonts.googleapis.com/css2?family=Didot&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="image-track" data-mouse-down-at="0" data-prev-percentage="0">
        <img class="img" src="https://res.cloudinary.com/de2xaykeq/image/upload/v1730684462/photo-1471897488648-5eae4ac6686b_ltqcge.jpg" draggable="false"/>
        <img class="img" src="https://res.cloudinary.com/de2xaykeq/image/upload/v1730684530/photo-1525547719571-a2d4ac8945e2_vtntlo.jpg" draggable="false"/>        
        <img class="img" src="https://res.cloudinary.com/de2xaykeq/image/upload/v1730684559/photo-1492563817904-5f1dc687974f_dvezdj.jpg" draggable="false"/>
        <img class="img" src="https://res.cloudinary.com/de2xaykeq/image/upload/v1730684583/photo-1694857887769-6ff4c0ef9372_aeco9w.jpg" draggable="false"/>
        <img class="img" src="https://res.cloudinary.com/de2xaykeq/image/upload/v1730684609/photo-1579487685737-e435a87b2518_ffwma2.jpg" draggable="false"/>
        <img class="img" src="https://res.cloudinary.com/de2xaykeq/image/upload/v1730684646/photo-1505852331468-7cc14e768362_kfq9y3.jpg" draggable="false"/>
        <img class="img" src="https://res.cloudinary.com/de2xaykeq/image/upload/v1730684666/premium_photo-1721762724239-e5fbfc8ef3c1_tbkjga.jpg" draggable="false"/>
        <img class="img" src="https://res.cloudinary.com/de2xaykeq/image/upload/v1728010487/IMG_5309_moiikl.jpg" draggable="false"/>
    </div>

    <style>
        body {
            height: 100vh;
            width: 100vw;
            background-color: black;
            margin: 0;
            overflow: hidden;
            user-select: none; /* Prevents selection */
        }
        
        #image-track .img {
            width: 40vh;
            height: 56vh;
            object-fit: cover;
            object-position: 50% center; /* Start from center */
            border-radius: 15px;
            pointer-events: none; /* Prevents highlight */
            user-select: none; /* Prevents selection on images */
        }
        
        #image-track {
            display: flex;
            gap: 4vmin;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            cursor: grab;
        }
    </style>

    <script>
        const track = document.getElementById("image-track");

        // Mouse down - start tracking
        window.onmousedown = e => {
            track.dataset.mouseDownAt = e.clientX;
            track.style.cursor = "grabbing";
        };

        // Mouse up - stop tracking
        window.onmouseup = () => {
            track.dataset.mouseDownAt = "0";
            track.dataset.prevPercentage = track.dataset.percentage;
            track.style.cursor = "grab";
        };

        // Mouse move - update based on drag
        window.onmousemove = e => {
            if (track.dataset.mouseDownAt === "0") return;

            const mouseDelta = parseFloat(track.dataset.mouseDownAt) - e.clientX;
            const maxDelta = window.innerWidth;

            // Amplify panning effect and extend range for all images
            let percentage = (mouseDelta / maxDelta) * -200;
            let nextPercentage = parseFloat(track.dataset.prevPercentage) + percentage;

            // Expand drag range to allow movement across all images
            nextPercentage = Math.max(Math.min(nextPercentage, 0), -400); // Adjusted range for all images

            // Animate the track movement
            track.dataset.percentage = nextPercentage;
            track.animate(
                { transform: `translate(${nextPercentage}%, -50%)` },
                { duration: 1200, fill: "forwards" }
            );

            // Apply parallax effect to all images
            for (const image of track.getElementsByClassName("img")) {
                image.animate(
                    { objectPosition: `${50 + nextPercentage * 1.5}% center` }, // Amplified for all images
                    { duration: 1200, fill: "forwards" }
                );
            }
        };
    </script>
</body>
</html>
