<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daniel Ding | Portfolio</title>
    <link href="https://fonts.googleapis.com/css2?family=Didot&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap" rel="stylesheet">
    <style>
        /* Basic Reset */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        /* Section Container Styling */
        body {
            overflow: hidden;
            scroll-behavior: smooth;
            background-color: rgb(10, 10, 10);
            color: white;
            font-family: "Open Sans", sans-serif;
        }

        section {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            scroll-snap-align: start;
            position: relative;
        }

        /* Crosshair Styling for Section 1 */
        #crosshair {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 1px;
            height: 1px;
            background-color: white;
            z-index: 10;
        }
        #crosshair::before,
        #crosshair::after {
            content: "";
            position: absolute;
            background-color: white;
        }
        #crosshair::before {
            width: 30px;
            height: 1px;
            left: -14px;
            top: 0;
        }
        #crosshair::after {
            width: 1px;
            height: 30px;
            left: 0;
            top: -14px;
        }

        /* Image Track Styling for Section 1 */
        #image-track {
            display: flex;
            gap: 2vmin;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(0%, -50%); 
            user-select: none;
        }
        #image-track > .image {
            width: 40vmin;
            height: 56vmin;
            object-fit: cover;
            object-position: 100% center;
        }
        /* Hacked Text Effect */
        body {
          display: grid;
          place-items: center;
          height: 100vh;
          background-color: black;
          margin: 0rem;
          overflow: hidden;
        }
        
        h1 {
          font-family: 'Space Mono', monospace;
          font-size: clamp(3rem, 10vw, 10rem);
          color: white;
          padding: 0rem clamp(1rem, 2vw, 3rem);
          border-radius: clamp(0.4rem, 0.75vw, 1rem);
        }
        
        h1:hover {
          background-color: white;
          color: black;
        }
        
        /* Header Styling for Section 2 */
        #header-container {
            text-align: center;
        }
        h1 {
            font-size: clamp(3rem, 10vw, 10rem);
            color: white;
            cursor: pointer;
            font-family: 'Poppins', sans-serif;
        }

        /* "Off the Wall" Navigation Styling for Section 3 */
        #nav {
            display: flex;
            flex-direction: column;
            padding: clamp(1rem, 5vw, 6rem);
            margin-top: 20vh;
        }
        #nav a {
            color: rgba(255, 255, 255, 0.25);
            font-size: clamp(3rem, 8vw, 10rem);
            text-decoration: none;
            position: relative;
            transition: color 0.3s;
        }
        #nav a:hover {
            color: white;
        }
        #nav a > span {
            display: block;
            border-top: 1px solid transparent;
            border-bottom: 1px solid transparent;
            position: relative;
            z-index: 2;
        }
        #nav a:hover > span {  
            border-top-color: white;
            border-bottom-color: white;
        }
        #nav a > img {
            position: absolute;
            opacity: 0;
            transform: translate(-50%, -50%) scale(0.5);
            transition: transform 250ms, opacity 250ms;
            pointer-events: none;
            width: min(40vw, 500px);
        }
        #nav a:hover > img {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        }
    </style>
</head>
<body>

    <!-- Section 1: Image Track with Parallax -->
    <section id="section1">
        <div id="crosshair"></div>
        <div id="image-track" data-mouse-down-at="0" data-prev-percentage="0">
            <!-- Images for the parallax effect -->
            <img class="image" src="https://images.unsplash.com/photo-1493934558415-9d19f0b2b4d2?q=80&w=3254&auto=format&fit=crop&ixlib=rb-4.0.3" draggable="false" />
            <img class="image" src="https://images.unsplash.com/photo-1455894127589-22f75500213a?q=80&w=3165&auto=format&fit=crop&ixlib=rb-4.0.3" draggable="false" />
            <img class="image" src="https://images.unsplash.com/photo-1684965344594-98ffe1efb1b6?q=80&w=3250&auto=format&fit=crop&ixlib=rb-4.0.3" draggable="false" />
            <img class="image" src="https://images.unsplash.com/photo-1698440050363-1697e5f0277c?q=80&w=3348&auto=format&fit=crop&ixlib=rb-4.0.3" draggable="false" />
            <img class="image" src="https://images.unsplash.com/photo-1527515047028-10b18ca90f24?q=80&w=3348&auto=format&fit=crop&ixlib=rb-4.0.3" draggable="false" />
            <img class="image" src="https://images.unsplash.com/photo-1476979735039-2fdea9e9e407?q=80&w=3270&auto=format&fit=crop&ixlib=rb-4.0.3" draggable="false" />
            <img class="image" src="https://images.unsplash.com/photo-1519682577862-22b62b24e493?q=80&w=3270&auto=format&fit=crop&ixlib=rb-4.0.3" draggable="false" />
            <img class="image" src="https://images.unsplash.com/photo-1529699211952-734e80c4d42b?q=80&w=3271&auto=format&fit=crop&ixlib=rb-4.0.3" draggable="false" />
        </div>
    </section>

    <!-- Section 2: Hacked Text Effect -->
    <section id="section2">
        <div id="header-container">
            <h1 data-value="Daniel Ding">Daniel Ding</h1>
        </div>
    </section>

    <!-- Section 3: Off the Wall Navigation -->
    <section id="section3">
        <nav id="nav">
            <a href="#"><span>I Can</span><img src="https://images.unsplash.com/photo-1660167941111-f7ccce818728?auto=format&fit=crop&w=800&q=60" /></a>
            <a href="#"><span>Show</span><img src="https://images.unsplash.com/photo-1660070918769-f34c724cfe43?auto=format&fit=crop&w=800&q=60" /></a>
            <a href="#"><span>You</span><img src="https://images.unsplash.com/photo-1660169376132-409f66fedcee?auto=format&fit=crop&w=800&q=60" /></a>
            <a href="#"><span>My</span><img src="https://images.unsplash.com/photo-1660201367471-9fc0cb34734f?auto=format&fit=crop&w=800&q=60" /></a>
            <a href="#"><span>World</span><img src="https://images.unsplash.com/photo-1660158847730-e93a2a96ca59?auto=format&fit=crop&w=800&q=60" /></a>
        </nav>
    </section>

    <script>
        // Scroll snapping logic for sections
        const sections = document.querySelectorAll("section");
        let currentIndex = 0;

        const scrollToSection = (index) => {
            sections[index].scrollIntoView({ behavior: "smooth" });
            currentIndex = index;
        };

        window.addEventListener("wheel", (e) => {
            if (e.deltaY > 0 && currentIndex < sections.length - 1) {
                scrollToSection(currentIndex + 1);
            } else if (e.deltaY < 0 && currentIndex > 0) {
                scrollToSection(currentIndex - 1);
            }
        });

        // Image track parallax functionality
        const track = document.getElementById("image-track");

        const handleOnDown = e => track.dataset.mouseDownAt = e.clientX;
        
        const handleOnUp = () => {
            track.dataset.mouseDownAt = "0";  
            track.dataset.prevPercentage = track.dataset.percentage;
        }
        
        const handleOnMove = e => {
            if (track.dataset.mouseDownAt === "0") return;
            
            const mouseDelta = parseFloat(track.dataset.mouseDownAt) - e.clientX,
                  maxDelta = window.innerWidth / 2;
            
            const percentage = (mouseDelta / maxDelta) * -78,
                  nextPercentageUnconstrained = parseFloat(track.dataset.prevPercentage) + percentage,
                  nextPercentage = Math.max(Math.min(nextPercentageUnconstrained, 0), -100);
            
            track.dataset.percentage = nextPercentage;
            
            track.animate({
                transform: `translate(${nextPercentage}%, -50%)`
            }, { duration: 1200, fill: "forwards" });
            
            for (const image of track.getElementsByClassName("image")) {
                image.animate({
                    objectPosition: `${100 + nextPercentage}% center`
                }, { duration: 1200, fill: "forwards" });
            }
        };
        
        window.onmousedown = handleOnDown;
        window.onmouseup = handleOnUp;
        window.onmousemove = handleOnMove;

        // Off the Wall Navigation Mouse Tracking
        const nav = document.getElementById("nav");
        for(const link of nav.getElementsByTagName("a")) {  
            link.onmousemove = e => {
                const rect = link.getBoundingClientRect(),    
                      img = link.querySelector("img");
                img.style.left = `${e.clientX - rect.left}px`;
                img.style.top = `${e.clientY - rect.top}px`;
            };
        }

        // Restore original Hacker Text Effect
        const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
        let interval = null;

        document.querySelector("h1").onmouseover = event => {  
            let iteration = 0;
            clearInterval(interval);

            interval = setInterval(() => {
                event.target.innerText = event.target.innerText
                    .split("")
                    .map((letter, index) => {
                        if (index < iteration) {
                            return event.target.dataset.value[index];
                        }
                        return letters[Math.floor(Math.random() * 26)];
                    })
                    .join("");
                
                if (iteration >= event.target.dataset.value.length) { 
                    clearInterval(interval);
                }
                iteration += 1 / 3;
            }, 30);
        };
    </script>
</body>
</html>
