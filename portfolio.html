<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daniel Ding | Portfolio</title>
    <link href="https://fonts.googleapis.com/css2?family=Didot&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Centered Crosshair -->
    <div id="crosshair"></div>

    <!-- Image Track with Parallax Images -->
    <div id="image-track" data-mouse-down-at="0" data-prev-percentage="0">
        <div class="img-container">
            <img class="img" src="https://res.cloudinary.com/de2xaykeq/image/upload/v1730684462/photo-1471897488648-5eae4ac6686b_ltqcge.jpg" draggable="false"/>
        </div>
        <div class="img-container">
            <img class="img" src="https://res.cloudinary.com/de2xaykeq/image/upload/v1730684530/photo-1525547719571-a2d4ac8945e2_vtntlo.jpg" draggable="false"/>
        </div>
        <div class="img-container">
            <img class="img" src="https://res.cloudinary.com/de2xaykeq/image/upload/v1730684559/photo-1492563817904-5f1dc687974f_dvezdj.jpg" draggable="false"/>
        </div>
        <div class="img-container">
            <img class="img" src="https://res.cloudinary.com/de2xaykeq/image/upload/v1730684583/photo-1694857887769-6ff4c0ef9372_aeco9w.jpg" draggable="false"/>
        </div>
        <div class="img-container">
            <img class="img" src="https://res.cloudinary.com/de2xaykeq/image/upload/v1730684609/photo-1579487685737-e435a87b2518_ffwma2.jpg" draggable="false"/>
        </div>
        <div class="img-container">
            <img class="img" src="https://res.cloudinary.com/de2xaykeq/image/upload/v1730684646/photo-1505852331468-7cc14e768362_kfq9y3.jpg" draggable="false"/>
        </div>
        <div class="img-container">
            <img class="img" src="https://res.cloudinary.com/de2xaykeq/image/upload/v1730684666/premium_photo-1721762724239-e5fbfc8ef3c1_tbkjga.jpg" draggable="false"/>
        </div>
        <div class="img-container last-image">
            <img class="img" src="https://res.cloudinary.com/de2xaykeq/image/upload/v1730738334/photo-1529699211952-734e80c4d42b_wlsnzo.jpg" draggable="false"/>
        </div>
    </div>

    <style>
        /* Crosshair Styling */
        #crosshair {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 1px;
            height: 1px;
            background-color: white;
            z-index: 10; /* Ensures crosshair is above images */
        }
        #crosshair::before,
        #crosshair::after {
            content: "";
            position: absolute;
            background-color: white;
        }
        #crosshair::before {
            width: 30px; /* Longer crosshair */
            height: 1px; /* Thinner crosshair */
            left: -14px;
            top: 0;
        }
        #crosshair::after {
            width: 1px; /* Thinner crosshair */
            height: 30px; /* Longer crosshair */
            left: 0;
            top: -14px;
        }

        /* Basic Styling */
        body {
            height: 100vh;
            width: 100vw;
            background-color: black;
            margin: 0;
            overflow: hidden;
            user-select: none; /* Prevents selection */
        }

        #image-track {
            display: flex;
            gap: 4vmin;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            cursor: grab;
        }

        .img-container {
            width: 40vh;
            height: 56vh;
            overflow: hidden; /* Ensure images are clipped within container */
            border-radius: 15px;
        }

        .last-image {
            border-radius: 50px; /* Fully rounded border for the last image */
        }

        .img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: 50% center; /* Start from center */
            user-select: none; /* Prevents selection on images */
            transition: object-position 0.2s ease; /* Smooth transition for small mouse adjustments */
        }
    </style>

    <script>
        const track = document.getElementById("image-track");
        
        const handleOnDown = e => track.dataset.mouseDownAt = e.clientX;
        
        const handleOnUp = () => {
          track.dataset.mouseDownAt = "0";  
          track.dataset.prevPercentage = track.dataset.percentage;
        }
        
        const handleOnMove = e => {
          if(track.dataset.mouseDownAt === "0") return;
          
          const mouseDelta = parseFloat(track.dataset.mouseDownAt) - e.clientX,
                maxDelta = window.innerWidth / 2;
          
          const percentage = (mouseDelta / maxDelta) * -100,
                nextPercentageUnconstrained = parseFloat(track.dataset.prevPercentage) + percentage,
                nextPercentage = Math.max(Math.min(nextPercentageUnconstrained, 0), -100);
          
          track.dataset.percentage = nextPercentage;
          
          track.animate({
            transform: `translate(${nextPercentage}%, -50%)`
          }, { duration: 1200, fill: "forwards" });
          
          for(const image of track.getElementsByClassName("image")) {
            image.animate({
              objectPosition: `${100 + nextPercentage}% center`
            }, { duration: 1200, fill: "forwards" });
          }
        }
    </script>

    <h1 data-type="Daniel Ding">Daniel Ding</h1>
    <style>
        body {
          display: grid;
          place-items: center;
          height: 100vh;
          background-color: black;
          margin: 0rem;
          overflow: hidden;
        }
        
        h1 {
          font-family: 'Space Mono', monospace;
          font-size: clamp(3rem, 10vw, 10rem);
          color: white;
          padding: 0rem clamp(1rem, 2vw, 3rem);
          border-radius: clamp(0.4rem, 0.75vw, 1rem);
        }
        
        h1:hover {
          background-color: white;
          color: black;
        }

    </style>
    
    <script>
        const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
        
        let interval = null;
        
        document.querySelector("h1").onmouseover = event => {  
          let iteration = 0;
          
          clearInterval(interval);
          
          interval = setInterval(() => {
            event.target.innerText = event.target.innerText
              .split("")
              .map((letter, index) => {
                if(index < iteration) {
                  return event.target.dataset.value[index];
                }
              
                return letters[Math.floor(Math.random() * 26)]
              })
              .join("");
            
            if(iteration >= event.target.dataset.value.length){ 
              clearInterval(interval);
            }
            
            iteration += 1 / 3;
          }, 30);
        }

    </script>    
</body>
</html>
