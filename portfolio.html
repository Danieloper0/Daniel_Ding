<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daniel Ding | Portfolio</title>
    <link href="https://fonts.googleapis.com/css2?family=Didot&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Centered Crosshair -->
    <div id="crosshair"></div>

    <!-- Image Track with Parallax Images -->
    <div id="image-track" data-mouse-down-at="0" data-prev-percentage="0">
        <div class="img-container">
            <img class="img" src="https://res.cloudinary.com/de2xaykeq/image/upload/v1730684462/photo-1471897488648-5eae4ac6686b_ltqcge.jpg" draggable="false"/>
        </div>
        <div class="img-container">
            <img class="img" src="https://res.cloudinary.com/de2xaykeq/image/upload/v1730684530/photo-1525547719571-a2d4ac8945e2_vtntlo.jpg" draggable="false"/>
        </div>
        <div class="img-container">
            <img class="img" src="https://res.cloudinary.com/de2xaykeq/image/upload/v1730684559/photo-1492563817904-5f1dc687974f_dvezdj.jpg" draggable="false"/>
        </div>
        <div class="img-container">
            <img class="img" src="https://res.cloudinary.com/de2xaykeq/image/upload/v1730684583/photo-1694857887769-6ff4c0ef9372_aeco9w.jpg" draggable="false"/>
        </div>
        <div class="img-container">
            <img class="img" src="https://res.cloudinary.com/de2xaykeq/image/upload/v1730684609/photo-1579487685737-e435a87b2518_ffwma2.jpg" draggable="false"/>
        </div>
        <div class="img-container">
            <img class="img" src="https://res.cloudinary.com/de2xaykeq/image/upload/v1730684646/photo-1505852331468-7cc14e768362_kfq9y3.jpg" draggable="false"/>
        </div>
        <div class="img-container">
            <img class="img" src="https://res.cloudinary.com/de2xaykeq/image/upload/v1730684666/premium_photo-1721762724239-e5fbfc8ef3c1_tbkjga.jpg" draggable="false"/>
        </div>
        <div class="img-container last-image">
            <img class="img" src="https://res.cloudinary.com/de2xaykeq/image/upload/v1728010487/IMG_5309_moiikl.jpg" draggable="false"/>
        </div>
    </div>

    <style>
        /* Crosshair Styling */
        #crosshair {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 1px;
            height: 1px;
            background-color: white;
            z-index: 10; /* Ensures crosshair is above images */
        }
        #crosshair::before,
        #crosshair::after {
            content: "";
            position: absolute;
            background-color: white;
        }
        #crosshair::before {
            width: 30px; /* Longer crosshair */
            height: 1px; /* Thinner crosshair */
            left: -14px;
            top: 0;
        }
        #crosshair::after {
            width: 1px; /* Thinner crosshair */
            height: 30px; /* Longer crosshair */
            left: 0;
            top: -14px;
        }

        body {
          height: 100vh;
          width: 100vw;
          background-color: black;
          margin: 0rem;
          overflow: hidden;
        }
        
        #image-track {
          display: flex;
          gap: 4vmin;
          position: absolute;
          left: 50%;
          top: 50%;
          transform: translate(0%, -50%); 
          user-select: none; /* -- Prevent image highlighting -- */
        }
        
        #image-track > .image {
          width: 40vmin;
          height: 56vmin;
          object-fit: cover;
          object-position: 100% center;
        }
    </style>

    <script>
    const track = document.getElementById("image-track");
    
    const handleOnDown = e => track.dataset.mouseDownAt = e.clientX;
    
    const handleOnUp = () => {
      track.dataset.mouseDownAt = "0";  
      track.dataset.prevPercentage = track.dataset.percentage;
    }
    
    const handleOnMove = e => {
      if(track.dataset.mouseDownAt === "0") return;
      
      const mouseDelta = parseFloat(track.dataset.mouseDownAt) - e.clientX,
            maxDelta = window.innerWidth / 2;
      
      const percentage = (mouseDelta / maxDelta) * -100,
            nextPercentageUnconstrained = parseFloat(track.dataset.prevPercentage) + percentage,
            nextPercentage = Math.max(Math.min(nextPercentageUnconstrained, 0), -100);
      
      track.dataset.percentage = nextPercentage;
      
      track.animate({
        transform: `translate(${nextPercentage}%, -50%)`
      }, { duration: 1200, fill: "forwards" });
      
      for(const image of track.getElementsByClassName("image")) {
        image.animate({
          objectPosition: `${100 + nextPercentage}% center`
        }, { duration: 1200, fill: "forwards" });
      }
    }
    
    /* -- Had to add extra lines for touch events -- */
    
    window.onmousedown = e => handleOnDown(e);
    
    window.ontouchstart = e => handleOnDown(e.touches[0]);
    
    window.onmouseup = e => handleOnUp(e);
    
    window.ontouchend = e => handleOnUp(e.touches[0]);
    
    window.onmousemove = e => handleOnMove(e);
    
    window.ontouchmove = e => handleOnMove(e.touches[0]);
    </script>
</body>
</html>
